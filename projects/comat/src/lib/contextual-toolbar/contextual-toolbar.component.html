@if (count > 0) {
  <mat-toolbar [ngClass]="classesToApply">
    @if (progressMessage | async) {
      <mat-spinner [diameter]='24'></mat-spinner>
      {{ progressMessage | async }}
      <span class="spacer"></span>
    } @else {
      <button mat-icon-button (click)="clear()">
        <mat-icon fontIcon="clear">clear</mat-icon>
      </button>
      <span i18n="@@contextualSelectedItems">{{count}} selected</span>
      <span class="spacer"></span>
      @for (action of actions; track action) {
        <button mat-icon-button
          (click)="actionSelected(action)"
          [class.textButton]="showButtonText()">
          @if (showButtonIcon()) {
            <mat-icon [matTooltip]="action.tooltip ? action.tooltip : action.name"
            fontIcon="action.icon">{{action.icon}}</mat-icon>
          }
          @if (showButtonText()) {
            <span>{{action.text}}</span>
          }
        </button>
      }
      @if (moreActions) {
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon matTooltip="more" i18n-matTooltip="@@moreActions" fontIcon="more_vert">more_vert</mat-icon>
        </button>
      }
      <mat-menu #menu="matMenu" yPosition="below">
        @for (moreAction of moreActions; track moreAction) {
          <button mat-menu-item
          (click)="actionSelected(moreAction)">{{moreAction.tooltip ? moreAction.tooltip: moreAction.name}}</button>
        }
      </mat-menu>
    }
  </mat-toolbar>
}
